<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>赛博文豪</title>
<style>
body {
  font-family: "PingFang SC","Microsoft YaHei",sans-serif;
  background:#f5f6f8;
  padding:20px;
}
h1 { text-align:center; }
.stage {
  font-size:18px;
  font-weight:bold;
  margin-bottom:12px;
}
.box {
  background:#fff;
  padding:16px;
  border-radius:8px;
  margin-bottom:16px;
}
textarea, button {
  width:100%;
  font-size:14px;
  padding:10px;
  margin-top:10px;
}
button {
  background:#111;
  color:#fff;
  border:none;
  border-radius:6px;
}
#result {
  white-space:pre-wrap;
  background:#eee;
  padding:12px;
  border-radius:6px;
}
</style>
</head>

<body>

<h1>赛博文豪</h1>

<div class="box">
  <div id="stageTitle" class="stage"></div>
  <div id="mainArea"></div>
  <button id="actionBtn"></button>
</div>

<div id="result" style="display:none;"></div>

<script>
alert("赛博文豪 JS 已加载");

let stage = "idea";

let data = {
  idea: "",
  setting: "",
  outline: "",
  volume: "",
  chapter: ""
};

function drawPage() {
  const body = document.body;

  let titleMap = {
    idea: "脑洞",
    setting: "世界观设定",
    outline: "全书大纲",
    volume: "卷纲",
    chapter: "章节细纲"
  };

  body.innerHTML = `
    <h1>赛博文豪</h1>
    <p><b>当前阶段：${titleMap[stage]}</b></p>
    <textarea id="input" style="width:100%;height:140px;">${data[stage]}</textarea>
    <br><br>
    <button onclick="next()">下一步</button>
  `;
}

function next() {
  const input = document.getElementById("input");
  if (input) {
    data[stage] = input.value;
  }

  if (stage === "idea") stage = "setting";
  else if (stage === "setting") stage = "outline";
  else if (stage === "outline") stage = "volume";
  else if (stage === "volume") stage = "chapter";
  else if (stage === "chapter") {
    alert("所有阶段内容已保存，下一步接 AI 生成正文");
    console.log(data);
    return;
  }

  drawPage();
}

drawPage();
</script>

</body>
</html>