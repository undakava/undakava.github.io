<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>赛博文豪</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
    }
    #step {
      font-weight: bold;
      margin-bottom: 10px;
    }
    textarea {
      width: 100%;
      height: 80px;
    }
    button {
      margin-top: 10px;
      padding: 8px 16px;
    }
    .box {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

<h1>赛博文豪</h1>

<div id="step">当前阶段：脑洞</div>

<div id="idea-area">
  <p>输入你的小说想法或关键词：</p>
  <textarea id="ideaInput"></textarea>
  <br>
  <button onclick="generateIdea()">生成脑洞</button>
</div>

<div id="result" class="box" style="display:none;"></div>

<script>
  let stage = "idea";

  function generateIdea() {
    const input = document.getElementById("ideaInput").value;
    if (!input) {
      alert("先写点东西");
      return;
    }

    // 假数据，后面再接 Gemini
    document.getElementById("result").style.display = "block";
    document.getElementById("result").innerHTML =
      "<p>脑洞 1：一个普通人突然获得写作即现实的能力。</p>" +
      "<p>脑洞 2：AI 与人类共同创作，决定世界走向。</p>" +
      "<button onclick='nextStage()'>选用这个脑洞，进入下一步</button>";
  }

  function nextStage() {
  stage = "setting";
  document.getElementById("step").innerText = "当前阶段：世界观设定";

  document.getElementById("idea-area").innerHTML = `
    <p>请选择你要锁定的故事脑洞（如果需要修改，可在下方重写）：</p>
    <textarea id="storySetting" placeholder="请写出世界观 & 主要人物设定"></textarea>
    <button onclick="generateSetting()">生成世界观</button>
  `;
  document.getElementById("result").innerHTML = "";
}

  function generateSetting() {
  const settingInput = document.getElementById("storySetting").value.trim();
  if (!settingInput) {
    alert("请先写一些设定内容，或改成你自己的想法");
    return;
  }

  document.getElementById("result").style.display = "block";
  document.getElementById("result").innerHTML =
    "<p>世界观设定草稿：</p>" +
    "<p>在未来的赛博都市，记忆存储成为最大财富，主角 X 是个能操控记忆但失去情感的神秘存在……</p>" +
    "<button onclick='nextStage2()'>设定完成，进入大纲拆分</button>";
}

  function nextStage2() {
  stage = "outline";
  document.getElementById("step").innerText = "当前阶段：全书大纲";
  document.getElementById("idea-area").innerHTML = `
    <p>请输入本书整体故事大纲方向（一句话）：</p>
    <textarea id="bookOutline"></textarea>
    <button onclick="generateOutline()">生成大纲</button>
  `;
  document.getElementById("result").innerHTML = "";
}
  
</script>

</body>
</html>
