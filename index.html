<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>赛博文豪</title>
  <style>
    body {
      font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
      background: #f5f6f8;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .box {
      background: #fff;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }
    textarea, button {
      width: 100%;
      font-size: 14px;
      padding: 10px;
      margin-top: 10px;
    }
    button {
      background: #111;
      color: #fff;
      border: none;
      border-radius: 6px;
    }
    #result {
      white-space: pre-wrap;
      background: #eee;
      padding: 12px;
      border-radius: 6px;
      margin-top: 10px;
    }
  </style>
</head>

<body>

<h1>赛博文豪</h1>

<div class="box">
  <p id="step"><b>当前阶段：脑洞</b></p>

  <div id="area"></div>

  <button id="mainBtn" onclick="next()">生成脑洞</button>
</div>

<div id="result" style="display:none;"></div>

<script>
  let stage = "idea";

  // 初始化
  render();

  function render() {
    if (stage === "idea") {
      document.getElementById("area").innerHTML = `
        <p>请输入你想写的小说方向：</p>
        <textarea id="input" placeholder="例如：赛博朋克 + 修真 + 商业博弈"></textarea>
      `;
      document.getElementById("mainBtn").innerText = "生成脑洞";
    }

    if (stage === "setting") {
      document.getElementById("step").innerHTML = "<b>当前阶段：世界观设定</b>";
      document.getElementById("area").innerHTML = `
        <p>请确认或修改世界观与主角设定：</p>
        <textarea id="input" placeholder="世界观、主角身份、核心冲突"></textarea>
      `;
      document.getElementById("mainBtn").innerText = "生成世界观";
    }
  }

  function next() {
    const input = document.getElementById("input").value.trim();
    if (!input) {
      alert("请先输入内容");
      return;
    }

    document.getElementById("result").style.display = "block";

    if (stage === "idea") {
      document.getElementById("result").innerText =
        "【脑洞生成结果】\n\n" +
        "这是一个融合多重题材、适合长篇连载的故事设想。\n\n" +
        "（此处未来接入 Gemini）";
      stage = "setting";
      render();
    } 
    else if (stage === "setting") {
      document.getElementById("result").innerText =
        "【世界观设定完成】\n\n" +
        "世界规则、主角定位与核心冲突已确定。\n\n" +
        "下一步：进入全书大纲阶段";
    }
  }
</script>

</body>
</html>